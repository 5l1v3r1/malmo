% !TEX TS-program = pdflatex
% !TEX encoding = UTF-8 Unicode

\documentclass[11pt]{article} % use larger type; default would be 10pt

\usepackage[utf8]{inputenc} % set input encoding (not needed with XeLaTeX)

%%% Examples of Article customizations
% These packages are optional, depending whether you want the features they provide.
% See the LaTeX Companion or other references for full information.

%%% PAGE DIMENSIONS
\usepackage{geometry} % to change the page dimensions
\geometry{a4paper} % or letterpaper (US) or a5paper or....
% \geometry{margin=2in} % for example, change the margins to 2 inches all round
% \geometry{landscape} % set up the page for landscape
%   read geometry.pdf for detailed page layout information

\usepackage{graphicx} % support the \includegraphics command and options

% \usepackage[parfill]{parskip} % Activate to begin paragraphs with an empty line rather than an indent

%%% PACKAGES
\usepackage{booktabs} % for much better looking tables
\usepackage{array} % for better arrays (eg matrices) in maths
\usepackage{paralist} % very flexible & customisable lists (eg. enumerate/itemize, etc.)
\usepackage{verbatim} % adds environment for commenting out blocks of text & for better verbatim
\usepackage{subfig} % make it possible to include more than one captioned figure/table in a single float
% These packages are all incorporated in the memoir class to one degree or another...

\usepackage{listings}
\lstset{language=XML,basicstyle=\ttfamily\small,breaklines=true,showstringspaces=false}

%%% HEADERS & FOOTERS
\usepackage{fancyhdr} % This should be set AFTER setting up the page geometry
\pagestyle{fancy} % options: empty , plain , fancy
\renewcommand{\headrulewidth}{0pt} % customise the layout...
\lhead{}\chead{}\rhead{}
\lfoot{}\cfoot{\thepage}\rfoot{}

%%% SECTION TITLE APPEARANCE
\usepackage{sectsty}
\allsectionsfont{\sffamily\mdseries\upshape} % (See the fntguide.pdf for font help)
% (This matches ConTeXt defaults)

%%% ToC (table of contents) APPEARANCE
\usepackage[nottoc,notlof,notlot]{tocbibind} % Put the bibliography in the ToC
\usepackage[titles,subfigure]{tocloft} % Alter the style of the Table of Contents
\renewcommand{\cftsecfont}{\rmfamily\mdseries\upshape}
\renewcommand{\cftsecpagefont}{\rmfamily\mdseries\upshape} % No bold!

\setlength{\parindent}{0pt}
\setlength{\parskip}{1em}

\usepackage{enumitem}
\setlist[enumerate]{itemsep=0mm}

\usepackage{xcolor}
\usepackage{mdframed}
\mdfdefinestyle{tipFrame}{roundcorner=10pt,backgroundcolor=pink!20,nobreak=true,linewidth=1pt,innermargin=0.5cm,outermargin=0.5cm}

%%% END Article customizations


\title{The Malm\"o Mission XML Format}
\author{Dave Bignell}
%\date{} % Activate to display a given date or no date (if empty),
         % otherwise the current date is printed 

\begin{document}
\maketitle
\tableofcontents

\section{Introduction}

Minecraft's enormous popularity stems, to a large degree, from the richness and versatility of the world it presents to its 
users. Hundreds of block types, item types, many different creatures, and environmental aspects such as weather and lighting, 
all interact to create vast potential for exploration. It was the goal of Malm\"o to preserve this wide flexibility and harness 
it for AI experimentation. To that end, we needed an extensible, detailed, concise and portable means of specifying the exact 
parameters of any environment the researcher might wish to set up. For this task, we created the \emph{Mission XML}.

Because XML is sometimes seen as ungainly or intimidating, this manual will attempt to provide a friendly reference to Malm\"o's XML specification. For a less readable, but always up-to-date reference, please see the XSD files themselves (located within the Schemas folder of the Malmo installation), which define precisely the syntax of the Mission XML.

But first, a simple example:

\begin{lstlisting}[frame=lines]
<?xml version="1.0" encoding="UTF-8" ?>
<Mission xmlns="http://ProjectMalmo.microsoft.com" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    
  <About>
    <Summary>Simple Mission</Summary>
  </About>

  <ServerSection>
    <ServerHandlers>
      <FlatWorldGenerator generatorString="3;7,220*1,5*3,2;3;,biome_1" />
      <ServerQuitFromTimeUp timeLimitMs="30000"/>
      <ServerQuitWhenAnyAgentFinishes />
    </ServerHandlers>
  </ServerSection>

  <AgentSection>
    <Name>Knuth</Name>
    <AgentStart>
      <Placement x="0.5" y="227.0" z="0.5"/>
    </AgentStart>
    <AgentHandlers>
      <DepthProducer>
        <Width>860</Width>
        <Height>480</Height>
      </DepthProducer>
      <ContinuousMovementCommands turnSpeedDegs="180" />
    </AgentHandlers>
  </AgentSection>
</Mission>
\end{lstlisting}  

It's only around 25 lines of code, but this will:
\begin{enumerate}
  \item Create a new mission called ``Simple Mission''
  \item Tell Malmo to create a standard flat grass-covered Minecraft world
  \item Instruct Malmo to create a 30 second time limit on the mission (30000 ms)
  \item Set the mission to end if any of the agents ``finish'' (\lstinline!ServerQuitWhenAnyAgentFinishes!)
  \item Create one agent in the world and name them ``Knuth''
  \item Position the agent at a certain point in the world (0.5,227,0.5)
  \item Request depth-map images from Malmo at 860x480 pixels.
  \item Define the set of actions which will be used to control the agent
\end{enumerate}

This is a very basic skeleton - the Mission XML has many more powerful features, and the rest of this manual will unpack them.

\section{The Shape of a Mission specification}
As the example showed, there are three main sections to a Mission spec - the \lstinline!About! section, the \lstinline!ServerSection! section, and the \lstinline!AgentSection! section. These must always be present. There is a fourth, optional section - the \lstinline!ModSettings! - which, if present, must be placed after the About section.
We'll look at each in turn:

\subsection{About}

This tells Malmo the name of the mission, and, optionally, allows the user to provide a brief description of the mission. For example:

\begin{lstlisting}[frame=lines]
<About>
  <Summary>Cliff Walking</Summary>
  <Description>
    Cliff walking mission based on Sutton and Barto
  </Description>
</About>
\end{lstlisting}

The summary field will be briefly displayed in the Minecraft window when the mission is received. The description field is optional and is currently ignored by Malmo.

\begin{mdframed}[style=tipFrame]
If you are running a sequence of missions, it can be very useful to add an index number to the summary field - this is easy to achieve, for example, if you are generating the XML mission in Python using a template. Because the summary is displayed in Minecraft, it will also appear in the Minecraft log files, and can provide a handy reference point. For example, if your agent code does something strange on Mission \#3541 out of 10000, you will be able to find the relevant section of the Minecraft log without too much trouble. It can also be nice for visual inspection purposes - you can watch the Minecraft window and see, each time a mission starts, which mission the agent is currently on.
\end{mdframed}

\subsection{ModSettings}

The mod settings are not really part of the mission specification, but rather control how that mission is \emph{run}. There are two settings: \lstinline!MsPerTick! and \lstinline!PrioritiseOffscreenRendering!, and they are used like this:

\begin{lstlisting}[frame=lines]
<ModSettings>
  <MsPerTick>5</MsPerTick>
  <PrioritiseOffscreenRendering>
    true
  </PrioritiseOffscreenRendering>
</ModSettings>
\end{lstlisting}

Minecraft's default tick rate is 20Hz - ie the default setting is 50 ms/tick. Malmo allows you to overclock (or underclock) this - but use with caution! Setting 1 ms/tick is unlikely to run your mission 50 times faster - in practice, on decent hardware, you might get a reasonably reliable 10x speedup.

\lstinline!PrioritiseOffscreenRendering! allows Malmo to try to push up the framerate by displaying fewer of the frames on the screen. If a high framerate is a priority, this can be useful, but the Minecraft window will only refresh once a second.

For an example of these settings in operation, look at \lstinline!overclock_test.py! and \lstinline!render_speed_test.py! in the Python samples folder.

\subsection{ServerSection}

Minecraft has a client/server architecture, and this is partially reflected in the Mission XML. Certain settings only apply to the Minecraft server, and these settings are configured through the optional \lstinline!ServerInitialConditions! and the compulsory \lstinline!ServerHandlers! sections of the XML.

We've seen some of the handlers in the basic example above, and we'll look at the available handlers in detail later. The \lstinline!ServerInitialConditions! section allows you to control Minecraft's time, weather, and spawning features:

\begin{lstlisting}[frame=lines]
<ServerSection>
  <ServerInitialConditions>
    <AllowSpawning>true</AllowSpawning>
    <AllowedMobs>Pig Sheep Ozelot LLama</AllowedMobs>
    <Time>
      <StartTime>1000</StartTime>
      <AllowPassageOfTime>false</AllowPassageOfTime>
    </Time>
    <Weather>clear</Weather>
  </ServerInitialConditions>
  <ServerHandlers>
    ...
    ...
  </ServerHandlers>
</ServerSection>
\end{lstlisting}

All these settings are optional. By default, spawning is turned off, and the time and weather follow Minecraft's default behaviour. The example above freezes the time at 1000 (early morning), forces the weather to remain clear (no rain/snow), and switches spawning on for pigs, sheep, ocelots and llamas only. Possible weather options are \lstinline!normal!, \lstinline!clear!, \lstinline!rain!, and \lstinline!thunder!; time is set in thousandths of an hour, with noon set at 6000 and midnight at 18000.

If \lstinline!AllowedMobs! is unspecified, the \lstinline!AllowSpawning! flag applies to all mob types; otherwise, if \lstinline!AllowSpawning! is switched on, only those mobs listed will be allowed to spawn. For a complete list of mobs, see \lstinline!EntityTypes! in Types.xsd, in the Schemas folder of the Malmo installation.

\begin{mdframed}[style=tipFrame]
The spawning settings are \emph{in addition} to Minecraft's normal spawning logic - they don't override it. So to spawn spiders, for example, you will need to ensure that \lstinline!AllowSpawning! is true, \emph{and} that  that the normal Minecraft requirements are met (a light level of 7 or less, with a 3x3x2 space on solid blocks etc).

Details of different mob's spawning requirements are readily available on the Internet.
\end{mdframed}
 
\subsection{AgentSection}

The rest of the Mission XML specifies how the agents will behave. There must be a separate AgentSection for each agent in the mission, and each can contain the following elements, in the following order:

\begin{enumerate}
  \item \lstinline!Name! - the username given to the agent in-game; if you are creating a multi-agent mission, make sure each agent has a unique name. (Although Malmo currently allows you to create names with whitespace in them, it's not advisable, as it can confuse Minecraft.)
  \item \lstinline!AgentStart! - details of the agent's initial setup. (Although the AgentStart section must exist, the contents are optional.)
  \begin{enumerate}
    \item \lstinline!Placement! - the starting position, yaw and pitch. If omitted, the agent will spawn according to the Minecraft default behaviour. (This can be useful for running missions in default worlds where safe spawning points are unknowable beforehand.)
    \item \lstinline!Inventory! - a list of the items the player should begin the mission with. If omitted, the player's inventory will remain \emph{unchanged} (eg in a run of consecutive missions, they may start a mission with items they picked up on the previous mission.) If the Inventory section is specified, but left empty, the inventory will be cleared at the start of each mission.
    \item \lstinline!EnderBoxInventory! - ender boxes are special containers whose contents are a property of the \emph{player} rather than the \emph{box}. If such a box is placed in the world, this section allows you to specify the items that player will find in it.
  \end{enumerate}
  \item \lstinline!AgentHandlers! - the components that control the precise interaction between the agent and the game: the observations the agent can ``see'', the actions the agent can perform, a reward structure which can be used to shape the agent's learning (in Reinforcement Learning applications, for example), and logic to determine when the mission should end. An examination of these handlers will form the bulk of the rest of this manual.
\end{enumerate}

It's also possible to set the game mode for each agent, as an attribute of the AgentSection. Available game modes are \lstinline!Survival! (the default), \lstinline!Adventure!, \lstinline!Creative! and \lstinline!Spectator! - see the Internet for details of their behaviour.

For example:

\begin{lstlisting}[frame=lines]
<AgentSection mode="Survival">
  <Name>Picasso</Name>
  <AgentStart>
    <Placement x="0.5" y="227.0" z="0.5" yaw="90" pitch="0"/>
    <Inventory>
      <!-- Slots 0-8 represent the Minecraft hotbar -->
      <InventoryObject slot="0" type="cookie" quantity="64"/>
      <InventoryObject slot="1" type="fish" quantity="64"/>
      <!-- Slots 36-39 represent the armour slots -->
      <!-- 36=boots, 37=leggings, 38=chestplate, 39=helmet -->
      <InventoryObject slot="39" type="golden_helmet" quantity="1"/>
    </Inventory>
  </AgentStart>
  <AgentHandlers>
  ...
  ...
  </AgentHandlers>
</AgentSection>
\end{lstlisting}

Now that we have the basic shape of the Mission XML, it's time to drill down into the core of Malmo's flexibility: the mission handlers.

\begin{mdframed}[style=tipFrame]
For almost every mission handler listed below there is a corresponding python sample. The best way to learn what each handler does is to look at, and play around with, the sample code that uses it. Use \lstinline!grep! (or the search tool of your choice) within the Python\_Examples folder of your Malmo installation to identify which samples contain the handler you are interested in.
\end{mdframed}

\section{Server Handlers}

These handlers set up the Minecraft server behaviour, which affects \emph{all} the agents within the mission.

\subsection{World Generators}

Before Malmo can run any missions, it needs to have \emph{somewhere} to run it - it needs a Minecraft world.

There are three ways to create a world: by using the default Minecraft world generator, using the flat world generator, or loading a world from disk. Each mission must specify one - and only one - world generator.

Whichever of the three generators you use, there are two optional flags to know about: \lstinline!forceReset! and \lstinline!destroyAfterUse!.

\subsubsection{forceReset (default value: \emph{false})}
Creating Minecraft worlds is expensive. In typical Reinforcement Learning scenarios, many thousands of episodes ("missions") may be run, each lasting only a few seconds. The overhead of creating a new world for each episode would be enormous. By default, therefore, Malmo will try to reuse the current world. It will only do this if the world requirements match the existing world. In other words:
\begin{enumerate}
  \item For flat worlds, the generator string (see below) and the random number seed (if specified) must match exactly.
  \item For worlds loaded from file, the filenames must match.
  \item For default Minecraft worlds, the random number seed must match, if specified. Otherwise, Malmo will reuse any other default world.
\end{enumerate}

The obvious downside to this world reuse is that changes made in one mission will persist into subsequent missions. In most cases, it's possible to work around this by using the \lstinline!DrawingDecorator! to reset the arena - for example, by filling the arena with air blocks, which will remove any built structures and destroy any entities/items. Many of the samples demonstrate this behaviour.

In more complicated scenarios, it may be sufficient to \emph{move} the arena for each mission - for example, in a featureless flat world, one spot is exactly like another, so each mission could be started at a new location.

If neither of these approaches are sufficient, then set the forceReset flag to true, and you will have a fresh world for each mission (but at the cost of slower start times).

\subsubsection{destroyAfterUse (default value: \emph{true})}

Whichever way the world was generated, Minecraft will need to store it on disk. Minecraft keeps these files in its own saves folder - for example in \lstinline!C:/MyMalmoInstallation/Minecraft/run/saves!. Although this is the default Minecraft behaviour, because of the way Malmo abuses Minecraft, a problem can quickly arise. Consider, for example, running a 10,000 episode experiment, with the forceReset flag set to true. Minecraft will generate 10,000 new world folders, each of which can be several megabytes in size. Without some sort of file management, the hard drive will gradually fill up with useless Minecraft worlds.

To get around this, Malmo periodically hunts out and deletes old world files. It does this by going through the Minecraft saves folder and destroying any file that it believes it was responsible for creating. (It's important not to simply delete \emph{all} the world files, since Malmo-generated worlds and user-generated worlds all share the same saves folder, and there's nothing worse than having your beautiful hand-crafted Minecraft creations deleted by an over-zealous AI research platform.) To avoid this catastrophe, Malmo uses a specific naming convention when it creates worlds - for example, \lstinline!TEMP\_10000\_4ee66158-a2d8-481b-9441-4856dc24e299!

The \lstinline!"TEMP"! tells Malmo that this is intended to be a temporary file. The \lstinline!"10000"! is the \emph{Mission Control Port} currently being used by this instance of Minecraft. (Multiple copies of Minecraft can be run on a single machine, and can share the same saves folder, so it's important to distinguish between them, otherwise one instance of Malmo may end up deleting files which are currently being used by another instance.) The rest of the filename is a randomly generated GUID, to ensure no accidental naming collisions. (Previous versions of Malmo used the current time to generate the filename, but with multiple instances running simultaneously naming collisions became a problem.)

Malmo, then, will periodically delete any worlds beginning with ``TEMP\_'' and matching its mission control port. (If you've just spent six weeks building a perfect scale model of your town in Minecraft, and have named it ``TEMP\_10000\_MyTown'', you probably deserve what's coming to you next time you run Malmo.)

It's possible that a user might want to keep the world files from each run of an experiment - to inspect what an agent built, for example, or to allow an agent to continue from where it left off. In this case, set \lstinline!destroyAfterUse! to false. The TEMP indicator won't be added to the filenames, and Malmo will never delete the worlds. It's up to the user to do their own housekeeping in this case.

So much for the optional flags. Now onto the generators themselves.

\subsubsection{FlatWorldGenerator}
This is possibly the most useful, and most used, of the three generators. It creates a simple flat world, of exactly the type available by using the Minecraft in-game flat-world menu.

\begin{lstlisting}[frame=lines]
<ServerHandlers>
  <FlatWorldGenerator seed="3141592654" generatorString="3;7,44*49,73,35:1,159:4,95:13,35:13,159:11,95:10,159:14,159:6,35:6,95:6;157;" />
  ...
  ...
</ServerHandlers>
\end{lstlisting}

The generator string is a Minecraft-defined format which specifies the block types for each layer of the world, the biome, and the presence/absence of various decorations such as lakes or villages. The precise specification of the format is beyond the scope of this manual, but details are available on the Internet, and there are various useful online tools which will allow you to create/edit these strings in a friendly way.

The seed is used by Minecraft to seed its random number generators. In a flat world without features (pools, villages etc) this will have no discernible effect, but if you want a more interesting flat world, setting this will ensure you get the same features in the same place each time you run. Omit the seed entirely to leave everything up to Minecraft.

\subsubsection{FileWorldGenerator}

Although a flat world is sufficient for many tasks - and it can be decorated (see below) to include simple buildings and structures - it might be that you require a more intricate setup for your experiment. (For example, you might want an environment containing redstone circuits, pressure plates, etc, or you may want to place your agent within a perfect scale model of your own town...) In this case, you can hand-craft your environment in the normal way, from within Minecraft itself. (Or use any of the Minecraft map-editing tools which can be found on the Internet.)

Once you have designed your world, you need to provide Malmo with a path to the saved folder. We've already seen that Minecraft keeps its saved worlds in a specific place. It's recommended, however, that you preserve your world files somewhere \emph{else}, to avoid confusion. Malmo will always run the experiment in a \emph{copy} of the world you provide, so that the original file is never altered. Simply pass a \emph{fully specified} path to the folder in which the Minecraft world data resides:

\begin{lstlisting}[frame=lines]
<ServerHandlers>
  <FileWorldGenerator src="C:\\dev\\experiments\\environments\\my_world"/>
  ...
  ...
</ServerHandlers>
\end{lstlisting}

\begin{mdframed}[style=tipFrame]
Because Malmo allows the agent to be running on a different machine to the Minecraft process, it's important to be clear on what files need to be where. Imagine the following (not uncommon) setup: the agent is running locally on a Linux machine, while Minecraft is running on a Windows machine somewhere in the cloud. Although the XML (in which the saved world's path is specified) originates from the \emph{agent's} machine, the files to which it points need to be read from the \emph{Minecraft} machine. In other words, the XML is sent via TCP, but the world files are not - they need to be already accesible to the Minecraft process. It is up to the user, therefore, to ensure that the world files are placed within reach of the Minecraft process, and that the path sent in the XML makes sense from that point of view. The path is for \emph{Minecraft's} benefit, not the \emph{agent's} benefit!
\end{mdframed}


\subsubsection{DefaultWorldGenerator}

This creates the default, random, vanilla Minecraft world that you would expect if you were running the game as a normal player, accepting all the default options.

\begin{lstlisting}[frame=lines]
<ServerHandlers>
  <DefaultWorldGenerator src="C:\\dev\\experiments\\environments\\my_world"/>
  ...
  ...
</ServerHandlers>
\end{lstlisting}


\subsection{World Decorators}

Once a world has been \emph{created}, it can be \emph{decorated}. Unlike the world generators, decorators can be combined.

\subsubsection{DrawingDecorator}
This allows the user to draw structures into the world, and provides a great degree of flexibility for setting up environments. The python samples contain many examples of the various draw commands available.

\subsubsection{AnimationDecorator}
The animation decorator allows the creation of more dynamic environments, by wrapping DrawingDecorators with update rules that allow structures to be animated. See animation\_test.py for an example of this.

\begin{mdframed}[style=tipFrame]
Beware of animating large structures, and forcing large lighting updates. Minecraft is very slow at recalculating light levels, so animating, for example, a big cuboid of glowstone blocks will consume a lot of server time and possibly cripple the framerate / tickrate.
\end{mdframed}

\subsubsection{MazeDecorator}
The maze decorator is a highly configurable stochastic maze generator. It will create custom mazes from a random seed, guaranteeing that there is always a valid route from the start to end squares. Useful for path-finding experiments. See the xsd for full details of the parameters, or MazeRunner.py for an example of it in action.

\subsubsection{ClassroomDecorator}
Similar to the maze decorator, the classroom decorator creates stochastic environments, but in this case the maze is built from a series of joined rooms.

\subsubsection{SnakeDecorator}
Adds a random ``snake'' made of blocks, that grows at one end and shrinks at the other. Useful for parkour-style challenges.

\subsubsection{MovingTargetDecorator}
Creates a moving two-block target which takes random moves within a specified arena. Useful for creating the prey in collaborative hunter-prey scenarios, where the movement of actual Minecraft mobs (eg sheep, pigs etc) would be \emph{too} unpredictable. The moving target provides a discrete object with a regular update interval (which can also be linked to a ``turn scheduler'' so it waits for its turn). The target will stop when an agent is standing on it, to enable agents to ``catch'' it.

\subsubsection{BuildBattleDecorator}
Useful for ``build battle`` type scenarios where an agent needs to copy a source structure to a destination location.

\subsection{Quit Producers}
The server needs to know when to call the mission ``finished''. The quit producers allow the user to specify when that should happen. By default, with no quit producer set, the server will not consider the mission over until all the agents in the mission have finished (according to their own quit producers).

\subsubsection{ServerQuitFromTimeUp}
Ends the mission after a set time has elapsed.

\subsubsection{ServerQuitWhenAnyAgentFinishes}
Ends the mission after the \emph{first} agent completes.

\section{Client (Agent) Handlers}
For more details of these handlers please see MissionHandlers.xsd and the python samples.

\subsection{Observation Handlers}
Observation handlers define the observations which Malmo will send to the agent - in effect prescribing what the agent can ``see''.

\subsubsection{ObservationFromRecentCommands}
\subsubsection{ObservationFromHotBar}
\subsubsection{ObservationFromFullStats}
\subsubsection{ObservationFromFullInventory}
\subsubsection{ObservationFromSubgoalPositionList}
\subsubsection{ObservationFromGrid}
\subsubsection{ObservationFromDistance}
\subsubsection{ObservationFromDiscreteCell}
\subsubsection{ObservationFromChat}
\subsubsection{ObservationFromNearbyEntities}
\subsubsection{ObservationFromRay}
\subsubsection{ObservationFromTurnScheduler}

\subsection{Video Producers}
Video frames are another type of observation. Malmo can send the vanilla Minecraft frames, a depth map, a greyscale frame, or a ``colour map`` in which different blocktypes/entities are represented by solid blocks of colour.

\subsubsection{VideoProducer}
\subsubsection{DepthProducer}
\subsubsection{LuminanceProducer}
\subsubsection{ColourMapProducer}

\subsection{Reward Handlers}
Reward handlers allow the user to set up a reward structure for Reinforcement Learning applications.

\subsubsection{RewardForTouchingBlockType}
\subsubsection{RewardForSendingCommand}
\subsubsection{RewardForSendingMatchingChatMessage}
\subsubsection{RewardForCollectingItem}
\subsubsection{RewardForDiscardingItem}
\subsubsection{RewardForReachingPosition}
\subsubsection{RewardForMissionEnd}
\subsubsection{RewardForStructureCopying}
\subsubsection{RewardForTimeTaken}
\subsubsection{RewardForCatchingMob}
\subsubsection{RewardForDamagingEntity}

\subsection{Command Handlers}
The command handlers define the subset of commands that the agent can use to affect its environment.

\subsubsection{ContinuousMovementCommands}
\subsubsection{AbsoluteMovementCommands}
\subsubsection{DiscreteMovementCommands}
\subsubsection{InventoryCommands}
\subsubsection{ChatCommands}
\subsubsection{SimpleCraftCommands}
\subsubsection{MissionQuitCommands}
\subsubsection{TurnBasedCommands}

\subsection{Quit Producers}
Finally, the quit producers allow the researcher to define an end point for the mission.
\subsubsection{AgentQuitFromTimeUp}
\subsubsection{AgentQuitFromReachingPosition}
\subsubsection{AgentQuitFromTouchingBlockType}
\subsubsection{AgentQuitFromCollectingItem}
\subsubsection{AgentQuitFromReachingCommandQuota}
\subsubsection{AgentQuitFromCatchingMob}

\end{document}
